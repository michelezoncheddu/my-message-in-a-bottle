============================= test session starts ==============================
platform darwin -- Python 3.10.0, pytest-6.2.5, py-1.10.0, pluggy-1.0.0
rootdir: /Users/macintosh/Documents/ASELAB/my-message-in-a-bottle/my-message-in-a-bottle, configfile: setup.cfg
plugins: cov-3.0.0
collected 16 items

monolith/classes/tests/test_messages.py FF                               [ 12%]
monolith/classes/tests/test_prio_1.py .....                              [ 43%]
monolith/classes/tests/test_send_messages.py .F..                        [ 68%]
monolith/classes/tests/test_user.py .....                                [100%]

=================================== FAILURES ===================================
______________________________ Test.test_mailbox _______________________________
monolith/classes/tests/test_messages.py:51: in test_mailbox
    assert(len(sent_messages) == 1)
E   AssertionError: assert 0 == 1
E    +  where 0 = len([])
______________________________ Test.test_message _______________________________
monolith/classes/tests/test_messages.py:89: in test_message
    self.assertEqual(reply.status_code, 200)
E   AssertionError: 401 != 200
____________________________ Test.test_message_post ____________________________
monolith/classes/tests/test_send_messages.py:70: in test_message_post
    reply = tested_app.post('/create_message', data=json.dumps(self.message), content_type='application/json')
/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/json/__init__.py:231: in dumps
    return _default_encoder.encode(obj)
/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/json/encoder.py:199: in encode
    chunks = self.iterencode(o, _one_shot=True)
/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/json/encoder.py:257: in iterencode
    return _iterencode(o, 0)
/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/json/encoder.py:179: in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
E   TypeError: Object of type BufferedReader is not JSON serializable
=============================== warnings summary ===============================
monolith/classes/tests/test_user.py:77
  /Users/macintosh/Documents/ASELAB/my-message-in-a-bottle/my-message-in-a-bottle/monolith/classes/tests/test_user.py:77: PytestUnknownMarkWarning: Unknown pytest.mark.run - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/mark.html
    @pytest.mark.run(order=1)

monolith/classes/tests/test_user.py:132
  /Users/macintosh/Documents/ASELAB/my-message-in-a-bottle/my-message-in-a-bottle/monolith/classes/tests/test_user.py:132: PytestUnknownMarkWarning: Unknown pytest.mark.run - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/mark.html
    @pytest.mark.run(order=2)

monolith/classes/tests/test_user.py:187
  /Users/macintosh/Documents/ASELAB/my-message-in-a-bottle/my-message-in-a-bottle/monolith/classes/tests/test_user.py:187: PytestUnknownMarkWarning: Unknown pytest.mark.run - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/mark.html
    @pytest.mark.run(order=3)

monolith/classes/tests/test_user.py:226
  /Users/macintosh/Documents/ASELAB/my-message-in-a-bottle/my-message-in-a-bottle/monolith/classes/tests/test_user.py:226: PytestUnknownMarkWarning: Unknown pytest.mark.run - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/mark.html
    @pytest.mark.run(order=4)

monolith/classes/tests/test_user.py:253
  /Users/macintosh/Documents/ASELAB/my-message-in-a-bottle/my-message-in-a-bottle/monolith/classes/tests/test_user.py:253: PytestUnknownMarkWarning: Unknown pytest.mark.run - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/mark.html
    @pytest.mark.run(order=5)

-- Docs: https://docs.pytest.org/en/stable/warnings.html

---------- coverage: platform darwin, python 3.10.0-final-0 ----------
Name                                           Stmts   Miss Branch BrPart  Cover   Missing
------------------------------------------------------------------------------------------
monolith/app.py                                   83     56     10      3    37%   30-67, 76-94, 102
monolith/auth.py                                  24      0      6      1    97%   32->34
monolith/background.py                            13     13      2      0     0%   1-22
monolith/classes/tests/test_messages.py           61     22      0      0    64%   54-56, 91-123
monolith/classes/tests/test_send_messages.py      44      1      0      0    98%   71
monolith/database.py                              77      8      0      0    90%   54, 58, 69, 96, 99, 103, 107, 119
monolith/views/auth.py                            39      0     12      2    96%   15->26, 39->exit
monolith/views/home.py                            13      1      4      1    88%   14
monolith/views/messages.py                       114     47     26      2    55%   71-76, 84-89, 95-100, 116-161
monolith/views/users.py                           96     20     36      8    73%   23, 27-29, 32-33, 55->exit, 69->exit, 91->exit, 99-102, 111->exit, 119-132
------------------------------------------------------------------------------------------
TOTAL                                            785    168     96     17    76%

9 files skipped due to complete coverage.
Coverage HTML written to dir htmlcov

FAIL Required test coverage of 90% not reached. Total coverage: 76.28%
=========================== short test summary info ============================
FAILED monolith/classes/tests/test_messages.py::Test::test_mailbox - Assertio...
FAILED monolith/classes/tests/test_messages.py::Test::test_message - Assertio...
FAILED monolith/classes/tests/test_send_messages.py::Test::test_message_post
=================== 3 failed, 13 passed, 5 warnings in 6.18s ===================
